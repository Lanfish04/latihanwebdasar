<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Data Diri</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <h1>Form Data Diri</h1>
    <form id="data_diri">
        <fieldset>
            <p>
                <label>Nama</label>
                <input type="text" id="kolomNama" required>
            </p>            
            <p>
                <label>Email</label>      
                <input type="email" id="Email" placeholder="Masukan email..." required>
            </p>
            <p>
                <label>Jabatan</label>
                <select id="Role">
                    <option value="Mahasiswa">Mahasiswa</option>
                    <option value="Dosen">Dosen</option>
                </select>
            </p>
            <p>
                <label>Gender</label>
                <p><input type="radio" name="gender" value="Laki-laki" required />Laki-laki</p>
                <p><input type="radio" name="gender" value="Perempuan" />Perempuan</p>
            </p>
            <button type="submit">Submit</button>
        </fieldset>
    </form>

    <script>
        // Menyimpan data form ke localStorage sebagai array
        document.getElementById("data_diri").addEventListener("submit", function(event){
            event.preventDefault();

            const name = document.querySelector('#kolomNama').value;
            const email = document.querySelector('#Email').value;
            const jabatan = document.querySelector('#Role').value;
            const gender = document.querySelector('input[name="gender"]:checked').value;

            // Cek apakah sudah ada data sebelumnya di localStorage
            let dataList = JSON.parse(localStorage.getItem('dataDiriList')) || [];

            // Tambahkan data baru ke dalam array
            dataList.push({
                kolomNama: name,
                Email: email,
                Role: jabatan,
                gender: gender
            });

            // Simpan kembali array yang diperbarui ke localStorage
            localStorage.setItem('dataDiriList', JSON.stringify(dataList));

            // Redirect ke halaman hasil
            location.href = 'index2.html';
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
